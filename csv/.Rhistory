ev <- i
}
ev
}
r2 <- extreme(foo1)
r2
extreme <- function (vec) {
for (i in vec) {
ev <- i
}
ev
}
r2 <- extreme(foo1)
r2
vec
extreme <- function (vec) {
vec
}
r2 <- extreme(foo1)
r2
ev <- c(ev, i)
for (i in vec) {
ev <- c(ev, i)
}
ev
extreme <- function (vec) {
for (i in vec) {
ev <- c(ev, i)
}
ev
}
r2 <- extreme(foo1)
extreme <- function (vec) {
for (i in vec) {
ev <- c(ev, i)
}
ev
}
r2 <- extreme(foo1)
?append
extreme <- function (vec) {
ev <- c()
for (i in vec) {
append(ev, i)
}
ev
}
r2 <- extreme(foo1)
r2
extreme <- function (vec) {
ev <- c()
for (i in vec) {
append(ev, i, after=length(ev))
}
ev
}
r2 <- extreme(foo1)
r2
extreme <- function (vec) {
vec
}
r2 <- extreme(foo1)
r2
extreme <- function (vec) {
l = length(vec)
l
}
r2 <- extreme(foo1)
r2
extreme <- function (vec) {
ev <- c()
for (i in length(vec)) {
if (i > 0) {
append(ev, i)
}
}
}
r2 <- extreme(foo1)
r2
extreme <- function (vec) {
ev <- c()
for (i in length(vec)) {
if (i > 0) {
append(ev, i)
}
}
ev
}
r2 <- extreme(foo1)
r2
x <- 1:100
getwd()
x <- 1:100; x
if (x > 50) print x
x > 50
l <- x > 50
l
x(l)
x[l]
# Practice Exercise 5
# Jerry Word
rm(list=ls())
### 1
extreme <- function (vec) {
extreme_n <- sum(abs(vec - mean(vec)) > 2 * sd(vec))
extreme_n
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- sum(abs(vec - mean(vec)) > 2 * sd(vec))
x <- vec[is.extreme]
x
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- sum(abs(vec - mean(vec)) > 2 * sd(vec))
x <- vec[is.extreme]
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- sum(abs(vec - mean(vec)) > 2 * sd(vec))
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec) > 2 * sd(vec))
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
length(vec[is.extreme])
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
if (length(vec[is.extreme]) > 0) {
cat("The Extreme Values Are:", "\n", vec[is.extreme])
} else {
return(NULL)
}
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r1
r1 <- extreme(foo1)
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
if (length(vec[is.extreme]) > 0) {
print("The Extreme Values Are:", "\n", vec[is.extreme])
} else {
return(NULL)
}
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
?print
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
if (length(vec[is.extreme]) > 0) {
cat("The Extreme Values Are:", "\n", vec[is.extreme])
} else {
return(NULL)
}
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
if (length(vec[is.extreme]) > 0) {
cat("The Extreme Values Are:", "\n", vec[is.extreme])
} else {
cat("There are no extreme values", "\n")
return(NULL)
}
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)f
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r2 <- extreme(1:10)
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
if (length(vec[is.extreme]) > 0) {
cat("The Extreme Values Are:", "\n", vec[is.extreme])
} else {
cat("There are no extreme values.", "\n")
return(NULL)
}
}
set.seed(91786)
foo1 <-rnorm(100)
r1 <- extreme(foo1)
r2 <- extreme(1:10)
# Practice Exercise 5
# Jerry Word
### 1
extreme <- function (vec) {
is.extreme <- abs(vec - mean(vec)) > 2 * sd(vec)
vec[is.extreme]
if (length(vec[is.extreme]) > 0) {
cat("The Extreme Values Are:", "\n", vec[is.extreme])
} else {
cat("There are no extreme values.", "\n")
return(NULL)
}
}
View(extreme)
### review logical mask
x <- 1:100
gt50 <- x > 50
x[gt50]
?"modulo"
?"modulus"
is.even <- if ((x %% 2) == 0)
is.even <- if ((x %% 2) == 0))
is.even <- x %% 2 == 0
is.even
x[is.even]
is.42 <- x == 42
x[is.42]
print <- 0
print(print)
head(painters)
### 2
library(MASS)
head(painters)
mean.sd(painters, "Composition")
painters$Composition
painters["Composition"]
painters[1]
painters[[1]]
painters[1]
?sd
sd(painters, "Composition")
sd(painters$Composition)
library(data.table)
setwd("retrosheet-csv/csv/")
f <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
files
f
?duplicated
d <- lapply(f, fread)
daily <- rbindlist(d)
daily
f <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
f <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
f
d <- lapply(f, fread)
d
edx <- rbindlist(d)
edx
daily <- rbindlist(list(daily, edx))[!duplicated("GAME_ID", "GAME_CT")]
f <- list.files(pattern = "^.+\\.EB.\\.regular.daily.csv$")
d <- lapply(f, fread)
ebx <- rbindlist(d)
daily <- rbindlist(list(daily, ebx))[!duplicated("GAME_ID", "GAME_CT")]
daily[, PLAYER_ID == 'ruthb101']
daily[PLAYER_ID == 'ruthb101']
daily[PLAYER_ID == 'ruthb101', sum(B_HR)]
library(data.table)
setwd("retrosheet-csv/csv/")
f <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
d <- lapply(f, fread)
f <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
d <- lapply(f, fread)
edx <- rbindlist(d)
daily <- rbindlist(list(daily, edx))[!duplicated(c("GAME_ID", "GAME_CT"))]
daily <- rbindlist(list(daily, edx))[!duplicated(c("GAME_ID", "GAME_CT"))]
daily <- rbindlist(list(daily, edx))[!duplicated("GAME_ID", "GAME_CT")]
library(data.table)
setwd("retrosheet-csv/csv/")
f <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
d <- lapply(f, fread)
daily <- rbindlist(d)
f <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
d <- lapply(f, fread)
edx <- rbindlist(d)
daily <- rbindlist(list(daily, edx))[!duplicated(c("GAME_ID", "GAME_CT"))]
daily <- rbindlist(list(daily, edx))[!duplicated("GAME_ID", "GAME_CT")]
f <- list.files(pattern = "^.+\\.EB.\\.regular.daily.csv$")
d <- lapply(f, fread)
ebx <- rbindlist(d)
daily <- rbindlist(list(daily, ebx))[!duplicated("GAME_ID", "GAME_CT")]
daily[PLAYER_ID == 'ruthb101', sum(B_HR)]
daily[, .(PLAYER_ID == 'ruthb101')]
daily[, .(PLAYER_ID, GAME_ID, GAME_CT)]
daily[PLAYER_ID == "ruthb101", .(PLAYER_ID, GAME_ID, GAME_CT)]
daily[PLAYER_ID == "ruthb101", .(PLAYER_ID, GAME_ID, GAME_CT, B_HR)]
daily[PLAYER_ID == "ruthb101", sum(B_HR)]
daily[PLAYER_ID == "ruthb101", count(B_HR)]
daily[PLAYER_ID == "ruthb101", .N]
daily[PLAYER_ID == "ruthb101", .(GAME_ID, GAME_CT)]
daily[PLAYER_ID == "ruthb101", .(GAME_ID, GAME_CT)][duplicated]
daily[PLAYER_ID == "ruthb101", .(GAME_ID, GAME_CT)][duplicated("GAME_ID", "GAME_CT")]
library(data.table)
setwd("retrosheet-csv/csv/")
files <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
events <- lapply(files, fread)
files <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
data <- lapply(files, fread)
evx <- lapply(files, fread)
l_evx <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
evx <- lapply(l_evx, fread)
l_edx <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
edx <- lapply(l_edx, fread)
edx
l_ebx <- list.files(pattern = "^.+\\.EB.\\.regular.daily.csv$")
ebx <- lapply(l_ebx, fread)
events_dup <- rbindlist(evx, edx, ebx)
events_dup <- rbindlist(list(evx, edx, ebx))
dup_events <- rbindlist(list(c(evx, edx, ebx)))
library(data.table)
setwd("retrosheet-csv/csv/")
l <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
evx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
edx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.EB.\\.regular.daily.csv$")
ebx <- lapply(l, fread)
daily <- rbindlist(list(c(evx, edx, ebx)))
library(data.table)
setwd("~/retrosheet-csv/csv/")
l <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
evx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
edx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.EB.\\.regular.daily.csv$")
ebx <- lapply(l, fread)
daily <- rbindlist(list(c(evx, edx, ebx)))
daily <- rbindlist(list(evx, edx, ebx)))
daily <- rbindlist(list(evx, edx, ebx))
library(data.table)
setwd("~/retrosheet-csv/csv/")
l <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
dat <- lapply(l, fread)
daily <- rbindlist(list(dat))
library(data.table)
setwd("~/retrosheet-csv/csv/")
l <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
evx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
edx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.EB.\\.regular.daily.csv$")
ebx <- lapply(l, fread)
daily <- rbind(evx, edx, ebx)
rm(daily)
daily <- lapply(list(evx, edx, ebx), rbindlist)
daily <- daily[!duplicated(daily, by = c("GAME_ID", "GAME_CT"))]
daily["PLAYER_ID" == "ruthb101"]
daily
daily[, .(PLAYER_ID)]
daily[, .("PLAYER_ID")]
class(daily)
rm(daily)
daily <- rbindlist(list(evx, edx, ebx))
daily <- rbindlist(evx, edx, ebx)
daily <- rbind(evx, edx, ebx)
daily <- rbindlist(list(evx, edx, ebx))
class(daily)
class(evx)
class(evx)
evx
rm(daily)
daily <- rbindlist(c(evx, edx, ebx))
daily
daily <- daily[!duplicated(daily, by = c("GAME_ID", "GAME_CT"))]
daily[, .(PLAYER_ID)]
daily[PLAYER_ID == "ruthb101", .(PLAYER_ID)]
daily[, .(PLAYER_ID == 'ruthb101')]
daily[PLAYER_ID == "ruthb101"]
daily
daily[PLAYER_ID == "vicks101"]
daily[PLAYER_ID == "ruthb101"]
daily[PLAYER_ID == "cobbt101"]
daily[PLAYER_ID == "ruthb101"]
daily[PLAYER_ID == "aaroh101"]
daily[PLAYER_ID == "aaroh102"]
daily[PLAYER_ID == "cobbt101"]
daily[PLAYER_ID == "cobbt101", sum(B_HR)]
daily[GAME_DT %in% "2018"]
daily[, PLAYER_ID]
daily[, PLAYER_ID == "ruthb101"]
daily[, any(PLAYER_ID) == 'ruthb101']
daily[, PLAYER_ID == 'cobbt101']
daily[, .(PLAYER_ID)]
daily[, .(PLAYER_ID, sum(B_HR))]
daily[, .(PLAYER_ID, sum(B_HR, by = PLAYER_ID)]
daily[, .(PLAYER_ID, sum(B_HR), by = PLAYER_ID]
daily[, .(PLAYER_ID, sum(B_HR), by = PLAYER_ID)]
daily[, .(PLAYER_ID, sum(B_HR)), by = PLAYER_ID]
daily[PLAYER_ID == 'ruthb101']
daily[PLAYER_ID == 'cobbt101']
class(daily)
library(data.table)
setwd("~/retrosheet-csv/csv/")
l <- list.files(pattern = "^.+\\.EV.\\.regular.daily.csv$")
evx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.ED.\\.regular.daily.csv$")
edx <- lapply(l, fread)
l <- list.files(pattern = "^.+\\.EB.\\.regular.daily.csv$")
ebx <- lapply(l, fread)
daily <- rbindlist(c(evx, edx, ebx))
daily[, PLAYER_ID == 'ruthb101']
daily[PLAYER_ID == 'ruthb101']
daily[PLAYER_ID == 'ruthb101', .(sum(B_HR))]
daily[duplicated(daily), by = c("GAME_ID", "GAME_CT")]
duplicated(daily, by = c("GAME_ID","GAME_CT","PLAYER_ID"))
any(duplicated(daily, by = c("GAME_ID","GAME_CT","PLAYER_ID")))
which(duplicated(daily, by = c("GAME_ID","GAME_CT","PLAYER_ID")))
daily <- daily[!duplicated(daily, by = c("GAME_ID","GAME_CT","PLAYER_ID"))]
daily[PLAYER_ID = "ruthb101"]
daily[PLAYER_ID == "ruthb101"]
daily[PLAYER_ID == "ruthb101", sum(B_HR)]
daily[, sum(B_HR), by = PLAYER_ID]
daily[sum(B_HR) > 500, sum(B_HR), by = PLAYER_ID]
daily[, sum(B_HR), by = PLAYER_ID]
daily[, sum(B_HR) > 500, by = PLAYER_ID]
daily[, .(sum(B_HR) > 500), by = PLAYER_ID]
daily[PLAYER_ID == "ruthb101", sum(B_HR)]
daily[PLAYER_ID == "bondb101", sum(B_HR)]
daily[PLAYER_ID == "bondb102", sum(B_HR)]
daily[PLAYER_ID == "cobbt101", sum(B_HR)]
daily[PLAYER_ID == "ruthb101", sum(B_HR)]
daily[, .(sum(B_HR)), by = PLAYER_ID]
daily[, .(sum(B_HR) > 500), by = PLAYER_ID]
daily[, .(sum(B_HR)) > 500, by = PLAYER_ID]
daily[, .(sum(B_HR)), by = PLAYER_ID][B_HR > 500]
daily[, .(B_HR = sum(B_HR)), by = PLAYER_ID][B_HR > 500]
daily[, .(B_HR = sum(B_HR)), by = PLAYER_ID][B_HR > 500][order(-B_HR)]
rm(evx, edx, ebx)
daily[, .(B_HR = sum(B_HR)), by = PLAYER_ID][B_HR > 500][order(-B_HR)]
barplot(daily[, .(B_HR = sum(B_HR)), by = PLAYER_ID][B_HR > 500][order(-B_HR)])
daily[, .(B_HR = sum(B_HR)), by = PLAYER_ID][B_HR > 500][order(-B_HR)]
plot(daily[, .(B_HR = sum(B_HR)), by = PLAYER_ID][B_HR > 500][order(-B_HR)])
